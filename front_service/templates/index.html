<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>
		<!-- Bootstrap Icons -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"
		/>
		<link
			rel="stylesheet"
			href="{{ url_for('static', filename = 'css/common.css') }}"
		/>
		<link
			rel="stylesheet"
			href="{{ url_for('static', filename = 'css/index.css') }}"
		/>

		<title>Document</title>
	</head>

	<body class="index-page">
		<header>
			<div class="navbar navbar-dark bg-dark">
				<div class="container">
					<a href="/" class="navbar-brand d-flex align-items-center">
						<i class="bi bi-bootstrap me-2"></i>
						<strong>Site Title</strong>
					</a>

					{% if context.user.is_login %}
					<a href="#">Profile</a>
					{% else %}
					<a href="{{ url_for('login') }}" class="btn btn-primary">
						<span>Login</span>
					</a>
					{% endif %}
				</div>
			</div>
		</header>

		<main>
			<section class="py-5 h-100 text-center container">
				<div class="row py-lg-5">
					<div class="col-lg-6 col-md-8 mx-auto">
						<h1 class="fw-light">Fast API + Flask SSR</h1>
						<p class="lead text-muted">
							Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
							quisquam est nemo. Possimus in eius totam voluptate!
						</p>
						<p>
							<a
								href="https://restfulapi.net/"
								target="_blank"
								class="btn btn-primary my-2"
								>RESTful API</a
							>
							<a
								href="https://www.sqlalchemy.org/"
								target="_blank"
								class="btn btn-secondary my-2"
								>SQLAlchemy</a
							>
						</p>
					</div>
				</div>
			</section>
		</main>

		<!-- Footer -->
		<footer class="footer">
			<div class="container h-100">
				<div
					class="row text-white h-100 d-flex flex-column justify-content-between"
				>
					<div class="data-set">
						<div class="col-24 data-field d-flex align-items-center gap-2">
							<h4>Name:</h4>
							<span>Bota</span>
						</div>

						<div class="col-24 data-field d-flex align-items-center gap-2">
							<h4>Group:</h4>
							<span>CS-2023</span>
						</div>
					</div>

					<div class="col-24">
						<p class="text-muted small mb-4 mb-lg-0">
							&copy; Site Title 2022. All Rights Reserved.
						</p>
					</div>
				</div>
			</div>
		</footer>

		<!-- Bootstrap Bundle with Popper -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous"
		></script>

		<!-- Logout script -->
		<script>
			const user = JSON.parse('{{ context.user | safe }}');

			window.addEventListener('beforeunload', () => {
				if (user && user.is_login) {
					fetch(`http://127.0.0.1:8000/logout/${user.id}`, {
						method: 'post',
					});
				}
			});
		</script>
	</body>
</html>
